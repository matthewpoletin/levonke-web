<!DOCTYPE html>
<html>
    <head>
        <%- include('head', {}); %>
    </head>
    <body>
        <%- include('header', {}); %>
        <div class="content">
            <% if (user) { %>
            <div class="pure-g">
                <div class="pure-u-1-3">
                    <h4><a href="/settings">Personal</a></h4>
                    <h4><a href="/settings/public">Public</a></h4>
                    <h4><a href="/settings/billing">Billing</a></h4>
                    <h4><a href="/settings/notifications">Notifications</a></h4>
                </div>
                <div class="pure-u-2-3">

                    <% switch (pageType) {

                    case 'public': %>
                    <form class="pure-form pure-form-stacked">
                        <fieldset>
                            <legend></legend>
                            <div class="pure-control-group">
                                <label for="pubEmail">Public email</label>
                                <input class="pure-input-1" id="pubEmail" type="email" placeholder="Public email" value="<%=user.pubEmail%>">
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend>Social</legend>
                            <div class="pure-control-group">
                                <label for="name">Facebook</label>
                                <input class="pure-input-1" id="facebook" type="text" placeholder="Facebook" value="<%=user.fbLink%>">
                            </div>

                            <div class="pure-control-group">
                                <label for="name">GitHub</label>
                                <input class="pure-input-1" id="name" type="text" placeholder="Name" value="<%=user.ghLink%>">
                            </div>
                        </fieldset>
                        <button type="submit" class="pure-button pure-input-1 pure-button-primary" disabled>Update</button>
                    </form>
                    <script src="/js/settings-public.js"></script>
                    <% break;

                    case 'billing': %>

                    <% break;

                    case 'notifications': %>

                    <% break;

                    case 'main':
                    default: %>
                        <form class="pure-form pure-form-stacked"  method="post" accept-charset="UTF-8" action="/settings" autocomplete="off" id="settings-personal-info-form">
                            <fieldset>
                                <img width="80px" height="80px" src="<%=user.avatar%>">
                                <div class="pure-control-group">
                                    <label for="file">Choose image to upload</label>
                                    <input class="pure-input-1" type="file" name="avatar" id="avatar" size="24" onchange="preview_2(this);" alt="" disabled>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="name">Username</label>
                                    <input class="pure-input-1" id="username" name="username" type="text" placeholder="Username" value="<%=user.username%>">
                                    <span class="pure-form-message-inline">This is a required field.</span>
                                </div>

                                <div class="pure-control-group">
                                    <label for="regEmail">Email Address</label>
                                    <input class="pure-input-1" id="regEmail" name="regEmail" type="email" placeholder="Email Address" value="<%=user.regEmail%>">
                                    <span class="pure-form-message-inline">This is a required field.</span>
                                </div>

                                <div class="pure-control-group">
                                    <label for="name">Name</label>
                                    <input class="pure-input-1" id="forename" name="forename" type="text" placeholder="Name" value="<%=user.forename%>">
                                </div>

                                <div class="pure-control-group">
                                    <label for="surname">Surname</label>
                                    <input class="pure-input-1" id="surname" name="surname" type="text" placeholder="Surname" value="<%=user.surname%>">
                                </div>

                                <button type="submit" id="submitInfo" class="pure-button pure-input-1 pure-button-primary" disabled>Update</button>
                            </fieldset>
                        </form>
                        <form class="pure-form pure-form-stacked" accept-charset="UTF-8" method="post" action="/user/<%=user.username.toLowerCase()%>/delete">
                            <fieldset>
                                <legend>Update password</legend>

                                <div class="pure-control-group">
                                    <label for="password">Previous Password</label>
                                    <input class="pure-input-1" name="oldPassword" id="oldPassword" type="password" placeholder="Password">
                                    <span class="pure-form-message-inline">This is a required field.</span><br>
                                </div>

                                <div class="pure-control-group">
                                    <label for="password">New Password</label>
                                    <input class="pure-input-1" name="newPassword" id="newPassword" type="password" placeholder="Password">
                                    <span class="pure-form-message-inline">This is a required field.</span><br>
                                </div>

                                <div class="pure-control-group">
                                    <label for="password">New Password again</label>
                                    <input class="pure-input-1" id="newPasswordCheck" type="password" placeholder="Password">
                                    <span class="pure-form-message-inline">This is a required field.</span><br>
                                </div>

                                <button type="submit" id="submitPassword" class="pure-button pure-input-1 pure-button-primary" disabled>Update</button>
                            </fieldset>
                        </form>
                        <form class="pure-form pure-form-stacked" accept-charset="UTF-8" method="post" action="/user/<%=user.username.toLowerCase()%>/delete">
                            <fieldset>
                                <legend>Danger zone</legend>
                                <button type="submit" id="submitDelete" class="pure-button pure-input-1 danger">Delete account</button>
                            </fieldset>
                        </form>
                        <script src="/js/settings-personal.js"></script>
                        <% } %>
                    </div>
                </div>

            <!--<% if (user.fbLink) { %>-->
            <!--<a href="http://<%= user.fbLink %>"><i class="fa-2x fab fa-facebook"></i></a>-->
            <!--<% } %>-->
            <!--<% if (user.ghLink) { %>-->
            <!--<a href="http://<%= user.ghLink %>"><i class="fa-2x fab fa-github"></i></a>-->
            <!--<% } %>-->
            <!--<i class="fab fa-vk"></i>-->
            <% } %>
        </div>
        <%- include('footer', {}); %>
    </body>
</html>
