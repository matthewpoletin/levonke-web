<!DOCTYPE html>
<html>
    <head>
        <%- include('head', {}); %>
    </head>
    <body>
        <%- include('header', {}); %>
        <div class="content">

            <% if (pageType === "main") { %>
            <% if (organizations) { %>
            <div class="pure-g organizations">
            <% organizations.forEach(function(organization) { %>
                <a href="/organization/<%= organization.id %>">
                    <div class="organization pure-u-4-5">
                        <div class="pure-g">
                            <div class="pure-u-1-3 organization-img">
                                <img width="80px" height="80px">
                            </div>
                            <div class="pure-u-2-3">
                                <div class="organization-info">
                                    <div class="organization-name"><%= organization.name %></div>
                                    <div class="organization-description"><%= organization.description %></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            <% }); %>
            </div>
            <% } else { %>
            <p>Couldn't load any organizations data</p>
            <% } %>
            <% } %>

            <% if (pageType === "new") { %>
            <h2>Create new organization</h2>
            <p>Organization keeps your most beloved ones together</p>
            <div class="pure-g">
                <div class="pure-u-2-3">
                    <form class="pure-form pure-form-stacked" method="post" accept-charset="UTF-8" action="/organizations/new" autocomplete="off" id="organization-form">
                        <fieldset>
                            <legend></legend>
                            <div class="pure-control-group">
                                <label for="name">Name</label>
                                <input class="pure-input-1" id="name" name="name" type="text" placeholder="Name" pattern="^[a-zA-Z]+$" required>
                                <span class="pure-form-message-inline">This is a required field.</span>
                            </div>

                            <div class="pure-control-group">
                                <label for="name">Official name</label>
                                <input class="pure-input-1" id="officialName" name="officialName" type="text" placeholder="Official Name" required>
                                <span class="pure-form-message-inline">This is a required field.</span>
                            </div>

                            <div class="pure-control-group">
                                <label for="description">Description</label>
                                <textarea class="pure-input-1" id="description" placeholder="Description"></textarea>
                            </div>

                            <div class="pure-control-group">
                                <label for="pubEmail">Public Email Address</label>
                                <input class="pure-input-1" id="pubEmail" name="pubEmail" type="email" placeholder="Email Address">
                            </div>

                            <div class="pure-control-group">
                                <label for="website">Website</label>
                                <input class="pure-input-1" id="website" name="website" type="text" placeholder="Website">
                            </div>
                            <br>
                            <div class="pure-controls">
                                <button type="submit" id="submit" class="pure-button pure-button-primary" disabled>Save info</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
            <script src="/js/organization.js"></script>
            <% } %>

        </div>
        <%- include('footer', {}); %>
    </body>
</html>
